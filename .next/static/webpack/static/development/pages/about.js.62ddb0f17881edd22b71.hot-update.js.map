{"version":3,"file":"static/webpack/static/development/pages/about.js.62ddb0f17881edd22b71.hot-update.js","sources":["webpack:///./components/Header/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { fetchNavigation } from '../../store';\n\nimport * as _ from 'underscore';\nimport './Header.scss';\nimport StaticMenu from '../StaticMenu';\nimport Logo from '../Logo';\nimport DynamicDropDownMenu from '../DynamicDropDownMenu';\nimport MobileMenu from '../MobileMenu';\n\nclass Header extends Component {\n\tdelta = 5;\n    navbarHeight = 88;\n    \n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tdidScroll: true,\n\t\t\tlastScrollTop: 0,\n\t\t\tnavClass: 'nav-down'\n\t\t};\n\n\t\tthis.hideHeader = this.hideHeader.bind(this);\n\t\tthis.showHeader = this.showHeader.bind(this);\n\t\tthis.getDocHeight = this.getDocHeight.bind(this);\n\t\tthis.hasScrolled = this.hasScrolled.bind(this);\n\t\tthis.handleScroll = this.handleScroll.bind(this);\n\t}\n\n\tasync getInitialProps({ store }){\n\t\tdebugger\n\t\tawait store.dispatch(fetchNavigation());\n\t}\n\n\tcomponentDidMount() {\n\t\twindow.addEventListener('scroll', this.handleScroll);\n\t}\n\n\tcomponentWillUnmount() {\n\t\twindow.removeEventListener('scroll', this.handleScroll);\n\t}\n\n\thideHeader() {\n\t\tthis.setState({\n\t\t\tnavClass: 'nav-up'\n\t\t});\n\t}\n\n\tshowHeader() {\n\t\tthis.setState({\n\t\t\tnavClass: 'nav-down'\n\t\t});\n\t}\n\n\tgetDocHeight() {\n\t\treturn Math.max(\n\t\t\tdocument.body.scrollHeight,\n\t\t\tdocument.documentElement.scrollHeight,\n\t\t\tdocument.body.offsetHeight,\n\t\t\tdocument.documentElement.offsetHeight,\n\t\t\tdocument.body.clientHeight,\n\t\t\tdocument.documentElement.clientHeight\n\t\t);\n\t}\n\n\thasScrolled() {\n\t\tconst st = window.scrollY;\n\n\t\tif (Math.abs(this.state.lastScrollTop - st) <= this.delta) return;\n\n\t\tif (st > this.state.lastScrollTop && st > this.navbarHeight) {\n\t\t\tthis.hideHeader();\n\t\t} else {\n\t\t\tif (st < this.getDocHeight()) {\n\t\t\t\tthis.showHeader();\n\t\t\t}\n\t\t}\n\n\t\tthis.setState({\n\t\t\tlastScrollTop: st\n\t\t});\n\t}\n\n\thandleScroll(event) {\n\t\tthis.setState({\n\t\t\tdidScroll: true\n\t\t});\n\n\t\t_.throttle(this.hasScrolled(), 250);\n\t}\n\n\trender() {\n\n\t\tlet links = this.props.navigation.map((link, i) => {\n\t\t\treturn <li key={i}>{link.name}</li>;\n\t\t});\n\n\t\treturn (\n\t\t\t<header id=\"navbar\" className={`Header ` + this.state.navClass}>\n\t\t\t\t<article>\n\t\t\t\t\t<Logo/>\n\t\t\t\t\t<div className={\"header-menu-wrap\"}>\n\t\t\t\t\t\t<DynamicDropDownMenu theme={'dark'}/>\n\t\t\t\t\t\t<StaticMenu theme={'dark'}/>\n\t\t\t\t\t\t<MobileMenu/>\n\t\t\t\t\t</div>\n\t\t\t\t</article>\n\t\t\t</header>\n\t\t);\n\t}\n}\n\n\n// Passing data to props from Store\nfunction mapStateToProps(state) {\n\treturn {\n\t\tnavigation: state.navigation\n\t};\n}\n\n// Passing Dispatch function to props\nfunction mapDispatchToProps(dispatch) {\n\treturn {\n\t\tfetchNav: bindActionCreators(fetchNavigation, dispatch)\n\t};\n}\n\nexport default connect(\n\tmapStateToProps,\n\tmapDispatchToProps\n)(Header);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAIA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AACA;AAbA;AAcA;AACA;;;;;;;;;;;;AACA;AACA;;AACA;AACA;;;;;;;;;;;;;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AAQA;;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AADA;AACA;AAGA;AACA;;;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;AApGA;AACA;AACA;AAuGA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;;;;A","sourceRoot":""}